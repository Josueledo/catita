@defer {
<div class="container">
  <p-sidebar
    [(visible)]="displaySidebar"
    position="right"
    [baseZIndex]="1000"
    (onHide)="onSidebarHide($event)"
  >
    <p-tabView
      [(activeIndex)]="activeTabIndex"
      (click)="$event.stopPropagation()"
    >
      <p-tabPanel (click)="$event.stopPropagation()">
        <ng-template pTemplate="header">
          <span class="numberIcon">1</span>
          <span>Carrinho</span>
        </ng-template>
        <ng-template
          #content
          let-activateCallback="activateCallback"
          (click)="$event.stopPropagation()"
        >
          <div class="null" (click)="$event.stopPropagation()">
            <!-- Conteúdo do Carrinho -->
            <div class="null" (click)="$event.stopPropagation()">
              @if (carrinho.length === 0) {
              <span>Nada no carrinho...</span>
              } @for (product of carrinho; track $index) {
              <div class="item">
                <div class="image">
                  <img src="{{ product.image1 }}" alt="" />
                </div>
                <div class="content">
                  <div class="title">
                    <h3>{{ product.title }}</h3>
                    <button (click)="deleteProduct(product.id)">X</button>
                  </div>
                  <div class="size">
                    <span>Tamanho: {{ product.size }}</span>
                    @if (product.custom_name !== "") {
                    <span>Nome: {{ product.custom_name }}</span>
                    } @if (product.custom_number !== "") {
                    <span>Numero: {{ product.custom_number }}</span>
                    }
                  </div>
                  <div class="total">
                    <div class="qtd_container">
                      <button class="menos" (click)="decreaseCart(product)">
                        -
                      </button>
                      <button class="qtd">{{ product.quantity }}</button>
                      <button class="mais" (click)="increaseCart(product)">
                        +
                      </button>
                    </div>
                    <span>R${{ product.price * product.quantity }},00</span>
                  </div>
                </div>
              </div>
              }
            </div>
          </div>
          <div class="footer">
            <div class="total">total: R${{ total }},00</div>
            <button class="finish" (click)="nextTab()">NEXT</button>
          </div>
        </ng-template>
      </p-tabPanel>

      <p-tabPanel>
        <ng-template pTemplate="header">
          <span class="numberIcon">2</span>
          <span>Endereço</span>
        </ng-template>
        <ng-template #content let-activateCallback="activateCallback">
          <div class="flex flex-col h-48">
            <div>
              <form
                [formGroup]="enderecoForm"
                (ngSubmit)="onSubmit()"
                class="form-container"
              >
                <div class="form-group">
                  <label for="nome">Nome:</label>
                  <input
                    id="nome"
                    formControlName="nome"
                    type="text"
                    class="form-control"
                  />
                </div>

                <div class="form-group">
                  <label for="cpf">CPF:</label>
                  <input
                    id="cpf"
                    formControlName="cpf"
                    type="text"
                    class="form-control"
                  />
                </div>

                <div class="form-group">
                  <label for="cep">CEP:</label>
                  <input
                    id="cep"
                    formControlName="cep"
                    type="text"
                    class="form-control"
                  />
                </div>

                <div class="form-group">
                  <label for="numero">Número:</label>
                  <input
                    id="numero"
                    formControlName="numero"
                    type="text"
                    class="form-control"
                  />
                </div>

                <div class="form-group">
                  <label for="numeroCasa">Número da Casa:</label>
                  <input
                    id="numeroCasa"
                    formControlName="numeroCasa"
                    type="text"
                    class="form-control"
                  />
                </div>

                <div class="form-group">
                  <label for="cidade">Cidade:</label>
                  <input
                    id="cidade"
                    formControlName="cidade"
                    type="text"
                    class="form-control"
                  />
                </div>

                <button type="submit" class="btn-submit">Enviar</button>
              </form>
            </div>
          </div>
        </ng-template>
      </p-tabPanel>
    </p-tabView>
  </p-sidebar>

  <div class="header_container">
    <div class="top_header">
      <fa-icon [icon]="faPaperPlane"></fa-icon>
      <h1>COMPRE 3 LEVE 4 CAMISETAS!</h1>
    </div>
    <div class="header_mobile">
      <div class="logo" routerLink="/">
        <img src="./logo.png" alt="" />
      </div>
      <div class="cart_icon" (click)="displaySidebar = true" >
        <fa-icon [icon]="faBagShopping"></fa-icon>
        <fa-icon [icon]="faBars" class="bars"></fa-icon>
      </div>


    </div>
    <div class="header">
      <div class="logo" routerLink="">
        <img src="./logo.png" alt="" />
      </div>
      <div class="input">
        <input type="text" placeholder="Buscar produto..." [(ngModel)]="searchTerm"
        />
        <button (click)="onSearch()">
          <fa-icon [icon]="faMagnifyingGlass"></fa-icon>
        </button>
      </div>

      <div class="cart_icon" (click)="displaySidebar = true" >
        <fa-icon [icon]="faBagShopping"></fa-icon>
      </div>
    </div>
    <div class="categoria"></div>
  </div>

  <div class="content">
    <div class="card_left">
      <div class="image_main">
        <img src="{{ product.image1 }}" alt="" />
      </div>
      <div class="image_container">
        <img src="{{ product.image2 }}" alt="" />
        <img src="{{ product.image3 }}" alt="" />
        <img src="{{ product.image4 }}" alt="" />
      </div>
    </div>
    <div class="card_right">
      <div class="top_content">
        <h1 class="title">{{ product.title }}</h1>
        <div class="status">
          <div class="circle"></div>
          <span>Pronta entrega</span>
        </div>
        <div class="price_container">
          <div class="fullPrice">R${{ product.fullPrice }},00</div>
          <div class="price">R${{ product.price }},00</div>
        </div>
        <span
          >em até 3x de
          <span class="pix">R${{ (product.price / 3).toFixed(2) }}</span> via
          PIX</span
        >
      </div>
      <div class="main_content">
        <div class="size_container">
          <h1 class="title_size">Tamanho</h1>
          <ul class="sizes">
            <li
              *ngFor="let size of availableSizes"
              [ngClass]="{ 'selected-size': selectedSize === size }"
              (click)="selectSize(size)"
            >
              <input
                type="radio"
                [id]="size"
                name="size"
                [value]="size"
                [(ngModel)]="selectedSize"
              />
              <label [for]="size">{{ size }}</label>
            </li>
          </ul>
        </div>
        <div class="input_container">
          <div class="input">
            <label for="name">Personalizar Nome <span>+R$30,00</span></label>
            <input
              type="text"
              id="name"
              placeholder="Exemplo: Pedro"
              [(ngModel)]="customName"
            />
          </div>
          <div class="input">
            <label for="name">Personalizar Número <span>+R$30,00</span></label>
            <input
              type="text"
              id="name"
              placeholder="Exemplo: 10"
              [(ngModel)]="customNumber"
            />
          </div>

          <div class="total">
            <h2>Preço</h2>
            <div class="price">R${{ product.price }},00</div>
          </div>
          <div class="qtd_container">
            <div class="button_container">
              <button class="menos" (click)="decreaseQuantity()">-</button>
              <button class="valor">{{ quantity }}</button>
              <button class="mais" (click)="increaseQuantity()">+</button>
            </div>
            <button class="comprar" (click)="addOnCart(product)">
              COMPRAR
            </button>
          </div>
        </div>
      </div>
    </div>
    <div class="responsive">
      <div class="size_container">
        <h1 class="title_size">Tamanho</h1>
        <ul class="sizes">
          <li
            *ngFor="let size of availableSizes"
            [ngClass]="{ 'selected-size': selectedSize === size }"
            (click)="selectSize(size)"
          >
            <input
              type="radio"
              [id]="size"
              name="size"
              [value]="size"
              [(ngModel)]="selectedSize"
            />
            <label [for]="size">{{ size }}</label>
          </li>
        </ul>
      </div>
      <div class="input_container">
        <div class="input">
          <label for="name">Personalizar Nome <span>+R$30,00</span></label>
          <input
            type="text"
            id="name"
            placeholder="Exemplo: Pedro"
            [(ngModel)]="customName"
          />
        </div>
        <div class="input">
          <label for="name">Personalizar Número <span>+R$30,00</span></label>
          <input
            type="text"
            id="name"
            placeholder="Exemplo: 10"
            [(ngModel)]="customNumber"
          />
        </div>

        <div class="total">
          <h2>Preço</h2>
          <div class="price">R${{ product.price }},00</div>
        </div>
        <div class="qtd_container">
          <div class="button_container">
            <button class="menos" (click)="decreaseQuantity()">-</button>
            <button class="valor">{{ quantity }}</button>
            <button class="mais" (click)="increaseQuantity()">+</button>
          </div>
          <button class="comprar" (click)="addOnCart(product)">
            COMPRAR
          </button>
        </div>
      </div>
    </div>
  </div>

  <app-footer></app-footer>

  <div class="whatsapp">
    <img src="./whatsapp.png" alt="" />
  </div>
</div>
} @loading {
<div class="card">
  <div class="grid formgrid">
    <div class="field col-12 md:col-6">
      <h5>Rectangle</h5>
      <p-skeleton styleClass="mb-2"></p-skeleton>
      <p-skeleton width="10rem" styleClass="mb-2"></p-skeleton>
      <p-skeleton width="5rem" styleClass="mb-2"></p-skeleton>
      <p-skeleton height="2rem" styleClass="mb-2"></p-skeleton>
      <p-skeleton width="10rem" height="4rem"></p-skeleton>
    </div>
    <div class="field col-12 md:col-6">
      <h5>Rounded</h5>
      <p-skeleton styleClass="mb-2" borderRadius="16px"></p-skeleton>
      <p-skeleton
        width="10rem"
        styleClass="mb-2"
        borderRadius="16px"
      ></p-skeleton>
      <p-skeleton
        width="5rem"
        styleClass="mb-2"
        borderRadius="16px"
      ></p-skeleton>
      <p-skeleton
        height="2rem"
        styleClass="mb-2"
        borderRadius="16px"
      ></p-skeleton>
      <p-skeleton width="10rem" height="4rem" borderRadius="16px"></p-skeleton>
    </div>
    <div class="field col-12 md:col-6">
      <h5 class="mt-3">Square</h5>
      <div class="flex align-items-end">
        <p-skeleton size="2rem" styleClass="mr-2"></p-skeleton>
        <p-skeleton size="3rem" styleClass="mr-2"></p-skeleton>
        <p-skeleton size="4rem" styleClass="mr-2"></p-skeleton>
        <p-skeleton size="5rem"></p-skeleton>
      </div>
    </div>
    <div class="field col-12 md:col-6">
      <h5 class="mt-3">Circle</h5>
      <div class="flex align-items-end">
        <p-skeleton shape="circle" size="2rem" styleClass="mr-2"></p-skeleton>
        <p-skeleton shape="circle" size="3rem" styleClass="mr-2"></p-skeleton>
        <p-skeleton shape="circle" size="4rem" styleClass="mr-2"></p-skeleton>
        <p-skeleton shape="circle" size="5rem"></p-skeleton>
      </div>
    </div>
  </div>
</div>
}
